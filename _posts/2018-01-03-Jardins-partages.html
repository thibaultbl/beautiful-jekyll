---
layout: page
title: Location of shared gardenb in Paris
subtitle: This is where I will tell my friends way too much about me
use-site-title: true
---

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.2/dist/leaflet.css" />
		<script src="https://unpkg.com/leaflet@1.2.0/dist/leaflet.js"></script>
		<script src="https://d3js.org/d3.v3.min.js"></script>
	</head>

	<body onload="initialize()">
		<div id="map" style="width:100%; height:100%"></div>
	</body>
</html>
<script type="text/javascript">
	function initialize() {
		var map = L.map('map', {
			maxBoundsViscosity : 0,
			maxBounds:[ [48, 2], [49, 3] ],
			minZoom: 1
		}).setView([48.833, 2.333], 12);
	
		var osmLayer = L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
			attribution: '&copy; <a href="https://osm.org/copyright">OpenStreetMap</a> contributors',
			maxZoom: 18,
		});
	
		map.addLayer(osmLayer);
		var icon_size = [18, 25]
		var greenIcon = L.icon({
			iconUrl: 'https://raw.githubusercontent.com/thibaultbl/Jardin_partages_paris/master/leaf-green.png',
			
			iconSize: icon_size, // size of the icon
		});
		
		var redIcon = L.icon({
			iconUrl: 'https://raw.githubusercontent.com/thibaultbl/Jardin_partages_paris/master/leaf-red.png',
			
			iconSize: icon_size, // size of the icon
		});
		
		var orangeIcon = L.icon({
			iconUrl: 'https://raw.githubusercontent.com/thibaultbl/Jardin_partages_paris/master/leaf-orange.png',
			
			iconSize: icon_size, // size of the icon
		});
		
		var brownIcon = L.icon({
			iconUrl: 'https://raw.githubusercontent.com/thibaultbl/Jardin_partages_paris/master/leaf-brown.png',
			
			iconSize: icon_size, // size of the icon
		});
		
		var purpleIcon = L.icon({
			iconUrl: 'https://raw.githubusercontent.com/thibaultbl/Jardin_partages_paris/master/leaf-purple.png',
			
			iconSize: icon_size, // size of the icon
		});
		
		console.log(decodeURIComponent(escape('Jardin pédagogique')));
		console.log((escape('Jardin pédagogique')));
			
		d3.dsv(";")("https://raw.githubusercontent.com/thibaultbl/Jardin_partages_paris/master/liste_des_jardins_partages_a_paris.csv", function(data) {
			data.forEach(function(d) {
				
				var icon_marker = greenIcon;	
				var title_marker = "test";
				if (d.type_jard === decodeURIComponent(escape('Jardin pédagogique'))) {
					icon_marker = greenIcon;
				} else if(d.type_jard.trim() === decodeURIComponent(escape("Jardin partagé"))) {
					icon_marker = redIcon;
				} else if(d.type_jard.trim() === decodeURIComponent(escape("Jardin potagé"))) {
					icon_marker = brownIcon;
				}
				else{
					icon_marker = orangeIcon;
				}
				
				var config = {
						title: title_marker,
						icon: icon_marker
						}
				
				L.marker(d.geo_point_2d.split(","), config).addTo(map)
					.bindPopup('Adresse : ' + d.adresse);
				});
		});
		
		var legend = L.control({position: 'topright'});

		legend.onAdd = function (map) {
			var div = L.DomUtil.create('div', 'legend');
			div.innerHTML +=  '<img src="https://raw.githubusercontent.com/thibaultbl/Jardin_partages_paris/master/leaf-green.png">' + decodeURIComponent(escape('Jardin pédagogique')) + '<br>'
			div.innerHTML +=  '<img src="https://raw.githubusercontent.com/thibaultbl/Jardin_partages_paris/master/leaf-red.png">'  + decodeURIComponent(escape('Jardin partagé')) + '<br>'
			div.innerHTML +=  '<img src="https://raw.githubusercontent.com/thibaultbl/Jardin_partages_paris/master/leaf-brown.png">'   +  decodeURIComponent(escape('Jardin potagé')) + '<br>'
			div.innerHTML +=  '<img src="https://raw.githubusercontent.com/thibaultbl/Jardin_partages_paris/master/leaf-orange.png">'   +  decodeURIComponent(escape('Autre jardin')) + '<br>'

			return div;
		};

	legend.addTo(map);
	}

</script>
